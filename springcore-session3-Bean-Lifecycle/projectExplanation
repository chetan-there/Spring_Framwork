â­ Topic Covered: Spring Bean Life Cycle (Full Flow)

This project demonstrates all stages of a Spring Bean Life Cycle, including:

âœ” Constructor
âœ” @PostConstruct
âœ” InitializingBean (afterPropertiesSet)
âœ” Custom init method
âœ” @PreDestroy
âœ” DisposableBean (destroy)
âœ” Custom destroy method
âœ” Shutdown hook
ğŸ”¥ 1ï¸ LifeCycleBean Class (Main Life Cycle Demonstration)
ğŸ“Œ Constructor
public LifeCycleBean() {
    System.out.println("1ï¸âƒ£ Constructor called: Bean Instantiated");
}


âœ” When the bean object is created.

ğŸ“Œ @PostConstruct
@PostConstruct
public void postConstructMethod() {
    System.out.println("2ï¸âƒ£ @PostConstruct: Bean Initialization #1");
}


âœ” Runs immediately after dependency injection, before the bean is ready for use.

ğŸ“Œ InitializingBean interface
@Override
public void afterPropertiesSet() {
    System.out.println("3ï¸âƒ£ afterPropertiesSet(): InitializingBean #2");
}


âœ” Another initialization callback
âœ” Spring calls it after @PostConstruct

ğŸ“Œ Custom init method
public void customInit() {
    System.out.println("4ï¸âƒ£ custom init-method(): Initialization #3");
}


âœ” If configured in @Bean(initMethod = â€œcustomInitâ€) (but you forgot to use it in AppConfig)

ğŸ“Œ @PreDestroy
@PreDestroy
public void preDestroyMethod() {
    System.out.println("5ï¸âƒ£ @PreDestroy: Bean Destroy Start");
}


âœ” Called automatically when context closes.

ğŸ“Œ DisposableBean destroy()
@Override
public void destroy() {
    System.out.println("6ï¸âƒ£ destroy(): DisposableBean");
}


âœ” Another destroy callback (after @PreDestroy)

ğŸ“Œ Custom destroy method
public void customDestroy() {
    System.out.println("7ï¸âƒ£ custom destroy-method(): Final Destroy");
}


âœ” Called only if registered in @Bean(destroyMethod = â€œcustomDestroyâ€)

ğŸ”¥ 2ï¸ AppConfig Explained
@ComponentScan("com.ct")
@Configuration
public class AppConfig {

    public LifeCycleBean lifecyclebean() {
        return new LifeCycleBean();
    }
}


â— Issue: You forgot @Bean annotation.

Correct version should be:

@Bean(initMethod="customInit", destroyMethod="customDestroy")
public LifeCycleBean lifecyclebean() {
    return new LifeCycleBean();
}

ğŸ”¥ 3ï¸ MainApp Explanation
AnnotationConfigApplicationContext context =
        new AnnotationConfigApplicationContext(AppConfig.class);


âœ” Creates Spring container
âœ” Automatically detects LifeCycleBean

LifeCycleBean b1 = context.getBean(LifeCycleBean.class);


âœ” Bean is created â†’ all initialization phases run.

context.registerShutdownHook();


âœ” Ensures Spring closes properly â†’ destroy methods run
âœ” Calls @PreDestroy, destroy(), customDestroy()

ğŸ¯ Bean LifeCycle Output Flow (Order)

Expected order:

1ï¸âƒ£ Constructor
2ï¸âƒ£ @PostConstruct
3ï¸âƒ£ afterPropertiesSet()
4ï¸âƒ£ custom init method (if configured)
--- Bean is ready to use ---
5ï¸âƒ£ @PreDestroy
6ï¸âƒ£ destroy()
7ï¸âƒ£ custom destroy method (if configured)